<!DOCTYPE html>
<html>
  <head>
    <title>Embeddable map example</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.6.2/leaflet.css" />
    <!--[if lte IE 8]><link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.6.2/leaflet.ie.css" /><![endif]-->

    <style>
      body {
        padding-top: 20px;
        padding-bottom: 60px;
      }
      #gtMap {
        width: 1000px;
        height: 600px;
      }
    </style>
  </head>
  <body>

    <div id="gtMap"></div>

    <script src="http://cdn.leafletjs.com/leaflet-0.6.2/leaflet.js"></script>
    <script>
      (function() {
        var mapConfig = {
          center: [-36.38106, 145.39937],
          zoom: 10,
          attribution: 'Greater Shepparton',
          layers: [
            {
              type: 'wms',
              url: 'http://basemap{s}.pozi.com/geoserver/wms',
              options: {
                subdomains: '1234',
                layers: 'VICMAP_CLASSIC:VicmapClassic',
                format: 'image/png',
                transparent: true
              }
            },
            {
              type: 'wms',
              url: 'http://shepparton.pozi.com/geoserver/wms',
              options: {
                layers: 'SHEPPARTON:gs_waste_collection_zone',
                format: 'image/png8',
                transparent: true
              }
            }
          ]
        };

        var map = L.map('gtMap').setView(mapConfig.center, mapConfig.zoom);
        map.attributionControl.setPrefix('');
        map.attributionControl.addAttribution(mapConfig.attribution);

        for(var i = 0; i < mapConfig.layers.length; i++) {
          if (mapConfig.layers[i].type === 'wms') {
            (new L.TileLayer.WMS(mapConfig.layers[i].url, mapConfig.layers[i].options)).addTo(map);
          } else {
            throw Error("Don't know how to create a map layer of type '"+mapConfig.layers[i].type+"'.");
          }
        }
      })()
    </script>

  </body>
</html>

